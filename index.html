<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Apple Keynote Bingo!</title>
        <meta name="description" content="Play Apple Keynote Bingo!" />

        <meta property="og:title" content="Apple Keynote Bingo!" />
        <meta property="og:type" content="website" />
        <meta property="og:site_name" content="Apple Keynote Bingo!" />
        <meta property="og:url" content="https://apple-keynote-bingo.vercel.app/" />
        <meta property="og:description" content="It’s time to play Apple Keynote Bingo!" />
        <meta property="og:image" content="static/images/share.png" />

        <link rel="stylesheet" href="static/styles/styles.css">
        <link rel="shortcut icon" type="image/png" href="static/images/favicon.png">
        <link rel="apple-touch-icon-precomposed" href="static/images/apple-touch-icon.png">
    </head>
    <body>
        <div class="container-fluid">
            <header>
                <h1 class="my-4 display-4">Apple Keynote Bingo!</h1>
                <h2 class="mb-4 h5">Unleashed</h2>
            </header>

            <div id="bingo">
                <h1 class="my-4 display-1">BINGO!</h1>
                <a class="btn btn-dark" href="?">Play again?</a>
            </div>

            <table id="bingoCard" class="table-responsive my-4 mx-auto">
                <tbody id="playCard">
                </tbody>
            </table>

            <footer>
                <a class="btn btn-outline-dark mr-2" href="?">New Bingo Card</a>
            </footer>
        </div>

        <script>
            strings = [
                "120 Hz display",
                "miniLED display",
                "Notch (but not visible on marketing images)",
                "eSIM",
                "HDMI port",
                "SD-card slot",
                "Reverse wireless charging",
                "One more thing...",
                "macOS Monterey",
                "“Available today“",
                "Matt black color",
                "Cringy scene transition effect",
                "“Bezel”",
                "Craig Federighi",
                "Tim Cook’s thin, watery smile",
                "“These are the new MacBook Pro's...",
                "“These are the best most powerful MacBook's we've EVER built",
                "M1X",
                "The fastest laptop chip in the world",
                "“ONLY Apple could...“",
                "“Here at Apple...“",
                "“For the first time...“",
                "Stunning incredible all-new design”",
                "“We're so excited to announce...”",
                "“We think/hope you're going to love/like it”",
                "“We think it’s great”",
                "“This year we're taking it to the next level“",
                "“People love...”",
                "Ridiculous “making of” engineering video",
                "Drone footage of sunny Apple Park",
                "“pretty epic”",
                "“HUUUGE”",
                "“Let me show it to you / Let's take a look”",
                "“To tell you all about it, here's...”",
                "“...change the world”",
                "Mention of being environmentally friendly",
                "“X times faster...“",
                "20+ hours battery life",
                "Johnny Ive voiceover in animated product video",
                "“MacBook“ is said at least 10 times",
                "“Billion“",
                "Speaker NOT wearing an Apple Watch",
                "Untucked Shirt",
                "Celebrity involved in keynote",
                "Nice independent software maker totally undermined by a new feature",
                "New, fairly dreary, feature gets ridiculous name (e.g. “Power Station”)",
                "New AirPods announced",
                "AirPods in a conference call",
                "Least acknowedgly acknowledgment the Touch Bar was a mistake",
                "Touch Bar is gone",
                "Glowing Apple logo on the back",
                "Inspirational video with creative professionals"
                ]

            function shuffle(array) {
                var currentIndex = array.length;
                var temporaryValue;
                var randomIndex;
                while (0 !== currentIndex) {
                    randomIndex = Math.floor(Math.random() * currentIndex);
                    currentIndex -= 1;
                    temporaryValue = array[currentIndex];
                    array[currentIndex] = array[randomIndex];
                    array[randomIndex] = temporaryValue;
                }
                return array;
            }

            var shuffled_strings = shuffle(strings);
            el_playcard = document.getElementById('playCard');
            for(var row = 0; row < 5; row += 1) {
                el_row = el_playcard.insertRow(-1);

                for(var col = 0; col < 5; col += 1) {
                    el_cell = el_row.insertCell(0);
                    if(row == 2 && col == 2) {
                        el_cell.classList.add('marked');
                        el_cell.classList.add('marked-free');
                    }
                    else {
                        el_cell.innerHTML = shuffled_strings.pop();
                        el_cell.addEventListener('click', mark_cell, true);
                    }
                }
            }

            function mark_cell(cell) {
                cell.srcElement.removeEventListener('click', mark_cell);
                if (cell.srcElement.classList.contains('marked')) {
                    cell.srcElement.classList.remove('marked');
                } else {
                    cell.srcElement.classList.add('marked');
                }
            }
        </script>
    </body>
</html>